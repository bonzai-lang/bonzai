---
import { buildTree } from "#/components/fileTree";
import FileTree from "#/components/FileTree.astro";
import Navigation from "#/components/Navigation.astro";
import { SITE_DESCRIPTION } from "#/consts";
import Default from "#/layouts/Default.astro";
import { getCollection } from "astro:content";

const posts = await getCollection('docs');
const fileTree = buildTree(posts);
---

<Default title="Documentation - Bonzai" description={SITE_DESCRIPTION} class="bg-neutral-900">
  <Navigation />
  <hr class="border-white/10" />

  <main class="grid grid-cols-7 gap-16 relative min-h-screen">
    <div class="p-8 px-0 col-span-2 sticky top-0">
      <FileTree posts={fileTree} />
    </div>

    <div class="col-span-5 prose prose-neutral prose-invert py-8">
      <h1>
        Bonzai Documentation
      </h1>

      <p>
        Welcome to the Bonzai documentation. Here you will find all the information you need to get started with the Bonzai programming language.
      </p>

      <p>
        If you are new to Bonzai, we recommend starting with the <a href="/docs/get-started">Getting Started</a> guide.
      </p>

      <p>
        If you are looking for a specific topic, you can use the file tree on the left to navigate through the documentation.
      </p>
      
    </div>
  </main>
</Default>