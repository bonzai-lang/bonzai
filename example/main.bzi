require "std:natives"
interface Loopable {
  fn loop(self: Loopable, i: int)
}

fn Loop(msg: string) => actor < Loopable {
  on loop(self, i) => {
    if i == 0 then {
      print("FINISHED")
    } else {
      self->loop(self, i - 1)
    }
  }
}

let l = spawn Loop("loop")
l->loop(l, 10)

require "std:test"