require "std:foundation"
require "std:datatypes/map"
require "std:datatypes/json"
require "std:http"

let res = fetch(
  "http://localhost:3000",
  method: "POST",
  headers: [
    "Content-Type: application/json",
    "Content-Length: 16"
  ],
  body: "{\"key\": \"value\"}"
)

match res {
  case Ok((body, headers)) => {
    print(JSON::parse(body))
  }

  case Error(err) => {
    print(err)
  }
}